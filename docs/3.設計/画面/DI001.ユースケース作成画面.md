# DI001. ユースケース作成画面

## 画面概要

ユースケース情報を入力し、ユースケースを新規作成するための画面。入力内容に基づきユースケースデータをYAML形式で保存し、保存結果を通知する。

- 対象ユースケース: SUC004

---

## メイン画面

### 表示項目

| 項目名             | フォーマット/コンポーネント | デフォルト | 表示条件                                                         |
| ------------------ | --------------------------- | ---------- | ---------------------------------------------------------------- |
| アクター           | アクター                    |            | トグル表示、デフォルト非表示、アクターが選択された場合           |
| ユーザーストーリー | ユーザーストーリー          |            | トグル表示、デフォルト非表示、ユーザーストーリーが選択された場合 |
| フォーム           | フォーム                    |            | 常に表示                                                         |

### ボタン・イベント

| ボタン・イベント名       | アクション | アクション内容                                |
| ------------------------ | ---------- | --------------------------------------------- |
| 作成                     | クリック   | 入力内容を保存し、ユースケースを作成          |
| キャンセル               | クリック   | 入力内容を破棄し、画面を閉じる/前画面に戻る   |
| アクタートグル           | クリック   | アクター情報の表示/非表示を切り替え           |
| ユーザーストーリートグル | クリック   | ユーザーストーリー情報の表示/非表示を切り替え |
| アクター選択             | セット     | アクター情報を取得                            |
| ユーザーストーリー選択   | セット     | ユーザーストーリー情報を取得                  |
| 保存失敗                 | 保存失敗   | エラーメッセージを表示                        |
| バリデーションエラー     | 入力値誤り | 項目ごとにエラーメッセージを表示              |

### セキュリティ・設計特性

- 入力値バリデーション
- XSS対策
- エラーハンドリング
- アクセシビリティ配慮
- レスポンシブデザイン

### 関連データ

| データ名           | 種別 | 操作 | 参照先                               |
| ------------------ | ---- | ---- | ------------------------------------ |
| アクター           | JSON | 読込 | DF001.ユースケース新規作成入力を参照 |
| ユーザーストーリー | JSON | 読込 | DF001.ユースケース新規作成入力を参照 |
| 優先順位           | JSON | 読込 | DF001.ユースケース新規作成入力を参照 |
| ビジネスルール     | JSON | 読込 | DF001.ユースケース新規作成入力を参照 |
| 概念データ         | JSON | 読込 | DF001.ユースケース新規作成入力を参照 |
| 品質属性           | JSON | 読込 | DF001.ユースケース新規作成入力を参照 |
| ユースケース       | JSON | 書込 | DF001.ユースケース新規作成を参照     |

### 品質特性

- 性能：応答時間
  - 応答時間 = 処理終了時刻 - 処理開始時刻
  - 応答時間 <= 2秒

---

## コンポーネント: アクター

アクター情報を表示するための画面。選択されたアクターの詳細情報を表示する。

### 表示項目

| 項目名                 | フォーマット/コンポーネント | デフォルト | 表示条件 |
| ---------------------- | --------------------------- | ---------- | -------- |
| ID                     |                             |            | 常に表示 |
| 名前                   |                             |            | 常に表示 |
| 目的                   |                             |            | 常に表示 |
| 種類                   |                             |            | 常に表示 |
| 場所・環境             |                             |            | 常に表示 |
| 利用時の状況           |                             |            | 常に表示 |
| 利用頻度               |                             |            | 常に表示 |
| 利用端末               |                             |            | 常に表示 |
| 利用時のライフサイクル |                             |            | 常に表示 |

---

## コンポーネント: ユーザーストーリー

ユーザーストーリーを表示するための画面。選択されたユーザーストーリーの詳細情報を表示する。

### 表示項目

| 項目名         | フォーマット/コンポーネント | デフォルト | 表示条件 |
| -------------- | --------------------------- | ---------- | -------- |
| ID             |                             |            | 常に表示 |
| タイトル       |                             |            | 常に表示 |
| シナリオ       |                             |            | 常に表示 |
| 作業規則       |                             |            | 常に表示 |
| 場所・環境     |                             |            | 常に表示 |
| 機器           |                             |            | 常に表示 |
| 状況           |                             |            | 常に表示 |
| 頻度           |                             |            | 常に表示 |
| 分類           |                             |            | 常に表示 |
| 領域           |                             |            | 常に表示 |
| 発生コスト     |                             |            | 常に表示 |
| 実現難易度     |                             |            | 常に表示 |
| 懸念点         |                             |            | 常に表示 |
| 対応バージョン |                             |            | 常に表示 |

---

## コンポーネント: フォーム

アクターが情報を入力するためのフォーム。各項目に対してバリデーションを行い、エラーメッセージを表示する。

### 入力項目

| 項目名                     | 種別/コンポーネント | 必須 | デフォルト | 備考                           |
| -------------------------- | ------------------- | ---- | ---------- | ------------------------------ |
| ユーザーストーリー         | 選択/複数           | Y    |            | 既存ユーザーストーリーから選択 |
| アクター                   | 選択/複数           | Y    |            | 既存アクターから複数選択       |
| タイトル                   | 文字列              | Y    |            |                                |
| 説明                       | 文字列              | Y    |            |                                |
| トリガー                   | 条件入力/複数       | Y    |            |                                |
| 事前条件                   | 条件入力/複数       |      |            |                                |
| 事後条件（通常/代替/例外） | 事後条件入力/複数   | Y    |            |                                |
| 通常フロー                 | 通常フロー入力      | Y    |            |                                |
| 代替フロー                 | 代替フロー入力/複数 |      |            |                                |
| 例外フロー                 | 例外フロー入力/複数 |      |            |                                |
| 優先順位                   | 選択                | Y    |            |                                |
| 使用頻度                   | 文字列              | Y    |            |                                |
| ビジネスルール             | 選択/複数           |      |            |                                |
| その他情報                 | 文字列              |      |            | 自由入力                       |
| 前提条件                   | 条件入力/複数       |      |            |                                |
| 項目詳細                   | 項目詳細入力        | Y    |            |                                |
| 品質特性                   | 選択/複数           |      |            |                                |
| 関連データ                 | 選択/複数           |      |            |                                |

### バリデーション

- ユーザーストーリー
  - 1件以上
- アクター
  - 1件以上
- タイトル
  - 1～100文字以内
- 説明
  - 1～500文字以内
- トリガー
  - 1件以上
- 事後条件（通常/代替/例外）
  - 通常フロー必須
- 使用頻度
  - 1～100文字以内
- その他情報
  - 0～500文字以内

---

## コンポーネント: 項目詳細入力

アクターが項目詳細の各項目を入力するためのフォーム。各項目に対してバリデーションを行い、エラーメッセージを表示する。

### 入力項目

| 項目名       | 種別/コンポーネント | 必須 | デフォルト | 備考 |
| ------------ | ------------------- | ---- | ---------- | ---- |
| 表示項目     | 文字列              |      |            |      |
| 入力項目     | 文字列              |      |            |      |
| 発生イベント | 文字列              |      |            |      |

### バリデーション

- 表示項目
  - 0～500文字以内
- 入力項目
  - 0～500文字以内
- 発生イベント
  - 0～500文字以内

---

## コンポーネント: 通常フロー入力

アクターが通常フローのステップを入力するためのフォーム。各ステップに対してバリデーションを行い、エラーメッセージを表示する。

### 表示項目

| 項目名   | フォーマット/コンポーネント | デフォルト | 表示条件 |
| -------- | --------------------------- | ---------- | -------- |
| フローID |                             | N          | 常に表示 |
| フロー名 |                             | 通常       | 常に表示 |

### 入力項目

| 項目名         | 種別/コンポーネント | 必須 | デフォルト | 備考 |
| -------------- | ------------------- | ---- | ---------- | ---- |
| ステップリスト | ステップ入力/複数   | Y    |            |      |

### バリデーション

- ステップリスト
  - 1件以上

---

## コンポーネント: 代替フロー入力

アクターが代替フローのステップを入力するためのフォーム。各ステップに対してバリデーションを行い、エラーメッセージを表示する。

### 入力項目

| 項目名         | 種別/コンポーネント | 必須 | デフォルト | 備考     |
| -------------- | ------------------- | ---- | ---------- | -------- |
| フローID       | 文字列              | Y    | A          | 常に表示 |
| フロー名       | 文字列              | Y    |            | 常に表示 |
| ステップリスト | ステップ入力/複数   | Y    |            |          |

### バリデーション

- フローID
  - 1～10文字以内
- フロー名
  - 1～100文字以内
- ステップリスト
  - 1件以上

---

## コンポーネント: 例外フロー入力

アクターが例外フローのステップを入力するためのフォーム。各ステップに対してバリデーションを行い、エラーメッセージを表示する。

### 入力項目

| 項目名         | 種別/コンポーネント | 必須 | デフォルト | 備考     |
| -------------- | ------------------- | ---- | ---------- | -------- |
| フローID       | 文字列              | Y    | E          | 常に表示 |
| フロー名       | 文字列              | Y    |            | 常に表示 |
| ステップリスト | ステップ入力/複数   | Y    |            |          |

### バリデーション

- フローID
  - 1～10文字以内
- フロー名
  - 1～100文字以内
- ステップリスト
  - 1件以上

---

## コンポーネント: ステップ入力

アクターがフローの各ステップを入力するためのフォーム。各ステップに対してバリデーションを行い、エラーメッセージを表示する。

### 入力項目

| 項目名     | 種別/コンポーネント | 必須 | デフォルト | 備考 |
| ---------- | ------------------- | ---- | ---------- | ---- |
| ステップ   | 文字列              | Y    |            |      |
| 関連フロー | 選択/複数           |      |            |      |

### バリデーション

- ステップ
  - 1～100文字以内

---

## コンポーネント: 事後条件入力

アクターが事後条件の各条件を入力するためのフォーム。各条件に対してバリデーションを行い、エラーメッセージを表示する。

### 入力項目

| 項目名     | 種別/コンポーネント | 必須 | デフォルト | 備考                                         |
| ---------- | ------------------- | ---- | ---------- | -------------------------------------------- |
| フロー     | 選択                | Y    | 通常フロー | 通常フロー、代替フローまたは例外フローを選択 |
| 条件リスト | 条件入力/複数       | Y    |            |                                              |

### バリデーション

- フロー
  - 存在するフローから選択
- 条件リスト
  - 1件以上

---

## コンポーネント: 条件入力

アクターが事前条件やその他の条件を入力するためのフォーム。各条件に対してバリデーションを行い、エラーメッセージを表示する。

### 入力項目

| 項目名 | 種別/コンポーネント | 必須 | デフォルト | 備考 |
| ------ | ------------------- | ---- | ---------- | ---- |
| 条件   | 文字列              | Y    |            |      |

### バリデーション

- 条件
  - 必須
  - 1～100文字以内
