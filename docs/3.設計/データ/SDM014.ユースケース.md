# ユースケース 論理モデル

- バージョン: 1
- 英語名: UseCase

## 概要

- ユースケースはシステムや業務の機能・振る舞いをアクター視点で記述するモデル
- 拡張性：新しいユースケースや属性の追加が容易
- 整合性：IDは一意, nanoidを使用する、他モデルとの参照整合性を担保

## エンティティ：ユースケース

| 属性名              | 型                              | 説明                   | 制約         |
| ------------------- | ------------------------------- | ---------------------- | ------------ |
| id                  | string                          | ユースケースID         | 主キー、一意 |
| title               | string                          | タイトル               | 必須         |
| description         | string                          | 説明                   | 必須         |
| triggers            | array<int, string>              | トリガー               | 必須         |
| preConditions       | 事前条件                        | 事前条件               | 必須         |
| postConditions      | 事後条件セット                  | 事後条件               | 必須         |
| normalFlow          | フロー                          | 通常フロー             | 必須         |
| alternativeFlow     | フロー                          | 代替フロー             | 必須         |
| exceptionFlow       | フロー                          | 例外フロー             | 必須         |
| frequency           | string                          | 使用頻度               | 必須         |
| otherInfo           | string                          | その他情報             | 必須         |
| assumptions         | 前提条件                        | 前提条件               | 必須         |
| itemDetails         | 項目詳細                        | 項目詳細               | 必須         |
| userStoryIds        | array<int, UserStory.id>        | アクターストーリーID   | 必須         |
| actorIds            | array<int, Actor.id>            | アクターIDリスト       | 必須         |
| priorityId          | Priority.id                     | 優先順位ID             | 必須         |
| businessRuleIds     | array<int, BusinessRule.id>     | ビジネスルールIDリスト | 必須         |
| conceptualDataIds   | array<int, ConceptualData.id>   | 関連概念データIDリスト | 必須         |
| qualityAttributeIds | array<int, QualityAttribute.id> | 品質特性IDリスト       | 必須         |
| createdAt           | datetime_tz                     | 作成日時               | 必須         |
| updatedAt           | datetime_tz                     | 更新日時               | 任意         |
| schemaVer           | int                             | スキーマバージョン     | 必須         |

## サブエンティティ：条件

| 属性名    | 型     | 説明 | 制約 |
| --------- | ------ | ---- | ---- |
| condition | string | 条件 | 必須 |

## サブエンティティ：事前条件

| 属性名     | 型               | 説明       | 制約 |
| ---------- | ---------------- | ---------- | ---- |
| conditions | array<int, 条件> | 条件リスト | 必須 |

## サブエンティティ：事後条件

| 属性名     | 型               | 説明       | 制約 |
| ---------- | ---------------- | ---------- | ---- |
| flowId     | フロー.id        | フローID   | 必須 |
| conditions | array<int, 条件> | 条件リスト | 必須 |

## サブエンティティ：事後条件セット

| 属性名     | 型                   | 説明       | 制約 |
| ---------- | -------------------- | ---------- | ---- |
| conditions | array<int, 事後条件> | 条件リスト | 必須 |

## サブエンティティ：ステップ

| 属性名      | 型                 | 説明          | 制約 |
| ----------- | ------------------ | ------------- | ---- |
| description | string             | 内容説明      | 必須 |
| flowIds     | array<int, string> | 関連フローIDs | 必須 |

## サブエンティティ：フロー

| 属性名 | 型                   | 説明   | 制約       |
| ------ | -------------------- | ------ | ---------- |
| id     | string               | 代替名 | 必須, 一意 |
| name   | string               | 代替名 | 必須       |
| steps  | array<int, ステップ> | フロー | 必須       |

## サブエンティティ：前提条件

| 属性名     | 型               | 説明       | 制約 |
| ---------- | ---------------- | ---------- | ---- |
| conditions | array<int, 条件> | 条件リスト | 必須 |

## サブエンティティ：項目詳細

| 属性名    | 型     | 説明           | 制約 |
| --------- | ------ | -------------- | ---- |
| viewItem  | string | 表示項目名     | 必須 |
| inputItem | string | 入力項目名     | 必須 |
| event     | string | 発生イベント名 | 必須 |
